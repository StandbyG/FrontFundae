<div class="login-page">
  <div class="login-container">
    
    <!-- Lado izquierdo: formulario -->
    <div class="login-left">
      <div class="form-wrapper">
        
        <!-- Logo y Header -->
        <div class="brand-header">
          <div class="brand-icon">
            <i class="fa fa-universal-access"></i>
          </div>
          <h1 class="brand-name">Plataforma Inclusiva</h1>
        </div>

        <div class="welcome-section">
          <h2 class="welcome-title">¡Bienvenido de nuevo!</h2>
          <p class="welcome-subtitle">Inicia sesión para acceder a tu panel</p>
        </div>

        <form (ngSubmit)="login()" #loginForm="ngForm" novalidate class="login-form">
          
          <!-- Campo Email -->
          <div class="form-group">
            <label for="email-input" class="form-label">
              <i class="fa fa-envelope"></i>
              Correo electrónico
            </label>
            <div
              class="input-wrapper"
              [class.error]="correoField.invalid && correoField.touched"
              [class.success]="correoField.valid && correoField.touched">
              <i class="input-icon fa fa-envelope"></i>
              <input
                id="email-input"
                type="email"
                [(ngModel)]="correo"
                name="correo"
                placeholder="tu@ejemplo.com"
                required
                email
                autocomplete="email"
                #correoField="ngModel"
                class="form-input"
                [class.invalid]="correoField.invalid && correoField.touched"
                aria-describedby="correo-error"
              />
              <i class="validation-icon fa fa-check-circle" *ngIf="correoField.valid && correoField.touched"></i>
            </div>
            <div
              id="correo-error"
              *ngIf="correoField.invalid && correoField.touched"
              class="error-message"
              role="alert"
              aria-live="polite">
              <i class="fa fa-exclamation-circle"></i>
              <span *ngIf="correoField.errors?.['required']">El correo es obligatorio</span>
              <span *ngIf="correoField.errors?.['email']">Ingresa un correo válido</span>
            </div>
          </div>

          <!-- Campo Contraseña -->
          <div class="form-group">
            <label for="password-input" class="form-label">
              <i class="fa fa-lock"></i>
              Contraseña
            </label>
            <div
              class="input-wrapper"
              [class.error]="passwordField.invalid && passwordField.touched"
              [class.success]="passwordField.valid && passwordField.touched">
              <i class="input-icon fa fa-lock"></i>
              <input
                id="password-input"
                [type]="showPassword ? 'text' : 'password'"
                [(ngModel)]="password"
                name="password"
                placeholder="••••••••"
                required
                minlength="6"
                autocomplete="current-password"
                #passwordField="ngModel"
                class="form-input"
                [class.invalid]="passwordField.invalid && passwordField.touched"
                aria-describedby="password-error"
              />
              <button
                type="button"
                class="password-toggle"
                (click)="togglePassword()"
                [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
                tabindex="0">
                <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
              </button>
            </div>
            <div
              id="password-error"
              *ngIf="passwordField.invalid && passwordField.touched"
              class="error-message"
              role="alert"
              aria-live="polite">
              <i class="fa fa-exclamation-circle"></i>
              <span *ngIf="passwordField.errors?.['required']">La contraseña es obligatoria</span>
              <span *ngIf="passwordField.errors?.['minlength']">Mínimo 6 caracteres</span>
            </div>
          </div>

          <!-- Opciones adicionales -->
          <div class="form-options">
            <label class="checkbox-container">
              <input
                type="checkbox"
                [(ngModel)]="rememberMe"
                name="rememberMe"
                class="checkbox-input"
              />
              <span class="checkbox-custom">
                <i class="fa fa-check"></i>
              </span>
              <span class="checkbox-label">Recordar sesión</span>
            </label>

            <a
              href="#"
              (click)="goToForgotPassword($event)"
              class="forgot-link">
              ¿Olvidaste tu contraseña?
            </a>
          </div>

          <!-- Botón de envío -->
          <button
            type="submit"
            class="btn-submit"
            [disabled]="loginForm.invalid || isLoading"
            [class.loading]="isLoading">
            <span *ngIf="!isLoading" class="btn-content">
              <i class="fa fa-sign-in"></i>
              <span>Iniciar Sesión</span>
            </span>
            <span *ngIf="isLoading" class="btn-loading">
              <span class="spinner"></span>
              <span>Iniciando sesión...</span>
            </span>
          </button>

          <!-- Divider -->
          <div class="divider">
            <span>¿No tienes cuenta?</span>
          </div>

          <!-- Botón registro -->
          <button
            type="button"
            (click)="goToRegister()"
            class="btn-register">
            <i class="fa fa-user-plus"></i>
            <span>Crear una cuenta</span>
          </button>

          <!-- Mensaje de error general -->
          <div
            *ngIf="error"
            class="alert alert-error"
            role="alert"
            aria-live="assertive"
            [@slideIn]>
            <div class="alert-icon">
              <i class="fa fa-exclamation-triangle"></i>
            </div>
            <div class="alert-content">
              <div class="alert-title">Error de autenticación</div>
              <div class="alert-message">{{ error }}</div>
            </div>
            <button type="button" class="alert-close" (click)="error = ''">
              <i class="fa fa-times"></i>
            </button>
          </div>

          <!-- Mensaje de éxito -->
          <div
            *ngIf="successMessage"
            class="alert alert-success"
            role="alert"
            aria-live="polite"
            [@slideIn]>
            <div class="alert-icon">
              <i class="fa fa-check-circle"></i>
            </div>
            <div class="alert-content">
              <div class="alert-title">¡Éxito!</div>
              <div class="alert-message">{{ successMessage }}</div>
            </div>
          </div>
        </form>

        <!-- Footer -->
        <div class="form-footer">
          <p>
            <i class="fa fa-shield-alt"></i>
            Tu información está protegida y encriptada
          </p>
        </div>
      </div>
    </div>

    <!-- Lado derecho: ilustración y CTA -->
    <div class="login-right">
      <div class="hero-content">
        <div class="hero-badge">
          <i class="fa fa-star"></i>
          <span>Plataforma Certificada</span>
        </div>

        <div class="hero-image">
          <div class="image-wrapper">
            <img
              src="assets/images/login_image.png"
              alt="Ilustración de accesibilidad"
              loading="lazy"
            />
            <div class="image-overlay"></div>
          </div>
        </div>

        <div class="hero-text">
          <h3 class="hero-title">Impulsando la Inclusión Laboral</h3>
          <p class="hero-description">
            Únete a cientos de organizaciones comprometidas con crear espacios de trabajo más accesibles e inclusivos.
          </p>
        </div>

        <div class="features-grid">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fa fa-check-circle"></i>
            </div>
            <span>Gestión simplificada</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fa fa-shield-alt"></i>
            </div>
            <span>100% Seguro</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fa fa-users"></i>
            </div>
            <span>Soporte 24/7</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Decorative elements -->
  <div class="decoration decoration-1"></div>
  <div class="decoration decoration-2"></div>
  <div class="decoration decoration-3"></div>
</div>